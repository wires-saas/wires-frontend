<p-panelMenu #panel [model]="items" [style]="{'width':'300px'}" [multiple]="true">

    <ng-template pTemplate="item" let-item>
        <a pRipple class="flex align-items-center px-3 py-2 cursor-pointer select-none" [class.surface-200]="selectedItem?.label === item.label" (contextmenu)="showFolderMenu($event, item)">

            <i *ngIf="item.items?.length"
               class="pi"
               [class.pi-angle-right]="item.expanded === false" [class.pi-angle-down]="item.expanded"></i>

            <i [class]="item.icon + ' text-primary'"></i>
            <span class="ml-2">
                {{ item.label }}
            </span>

            <button *ngIf="item.automationId" (click)="showFolderMenu($event, item)" pButton pRipple class="p-button-rounded p-button-text m-0 shadow-none" icon="pi pi-ellipsis-v"></button>
        </a>
    </ng-template>
</p-panelMenu>

<p-contextMenu #menu [model]="folderMenu" (onHide)="selectedItem = undefined">
    <ng-template pTemplate="item" let-item>
        <a pRipple class="flex align-items-center p-menuitem-link">
            <span [class]="item.icon"></span>
            <span class="ml-2">{{ item.label }}</span>
            <i *ngIf="item.items" class="pi pi-angle-right ml-auto"></i>
        </a>
    </ng-template>
</p-contextMenu>
