
    <span class="text-900 text-xl font-bold mb-4 block" i18n>Authorizations</span>
    <div class="grid">
        <div class="col-12 lg:col-2">
            <div class="text-900 font-medium text-xl mb-3" i18n>Roles</div>
            <p class="m-0 p-0 text-600 line-height-3 mr-3" i18n>Fine-grained access control is available with entreprise plans</p>
        </div>
        <ng-container *ngFor="let roleName of permissionsRoles; let k = index">
            <div class="col-12 lg:col-10" [class.lg:col-offset-2]="k !== 0">
                <form class="grid formgrid p-fluid">
                    <div class="field col-12 md:col-3" [formGroup]="roleNamesForm">
                        <label [for]="'name-' + roleName" class="font-medium text-900" i18n>Role Name</label>
                        <input [formControlName]="roleName" [id]="'name-' + roleName" type="text" i18n-placeholder [placeholder]="roleName | role" pInputText>
                        <small *ngIf="roleNamesForm.get(roleName)?.hasError('pattern')" class="p-error" i18n>Only alphabetic characters allowed</small>
                    </div>
                    <div class="field col-12 md:col-9" [formGroup]="permissionsForm">
                        <label i18n>Associated Permissions</label>
                        <p-multiSelect [options]="permissionsList" [formControlName]="roleName" optionLabel="label" [filter]="true"></p-multiSelect>
                    </div>
                </form>
            </div>
        </ng-container>

        <div *ngIf="canUpdateRole" class="col-12 flex md:justify-content-end justify-content-center">
            <button (click)="openUpdateRolesDialog()"
                    [disabled]="!canSavePermissions()"
                    [loading]="loading"
                    pButton pRipple i18n-label label="Save Changes" icon="pi pi-save" class="w-auto mt-3"></button>
        </div>
    </div>


    <p-confirmDialog i18n-header header="Update Roles" key="confirm-update-roles" icon="pi pi-exclamation-triangle"
                     i18n-message message="Updating roles and permissions presents risk. It requires a precise understanding of permission scope. Are you sure you want to proceed? If you are unsure, please contact support."
                     [style]="{width: '600px'}" defaultFocus="none"
                     i18n-acceptLabel acceptLabel="Yes, update"
                     i18n-rejectLabel rejectLabel="No"
                     acceptButtonStyleClass="p-button-danger"
                     rejectButtonStyleClass="p-button-text text-color-secondary"></p-confirmDialog>

    <p-toast key="roles" position="bottom-right"></p-toast>
